<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DA Roadmap 2026 - AI Fixed Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f0f2f5; }
        .glass { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); }
        .shimmer { background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; }
        @keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">
    <div class="max-w-6xl mx-auto">
        <!-- HEADER -->
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
            <div>
                <h1 class="text-3xl font-extrabold text-slate-900 tracking-tight">ROADMAP DA <span class="text-blue-600">2026</span></h1>
                <p class="text-slate-500 text-sm font-medium">H√†nh tr√¨nh tr·ªü th√†nh chuy√™n gia d·ªØ li·ªáu</p>
            </div>
            <div class="flex items-center gap-3">
                <div class="bg-white p-3 px-5 rounded-2xl shadow-sm border border-slate-200">
                    <span class="text-[10px] block font-bold text-slate-400 uppercase">Ti·∫øn ƒë·ªô</span>
                    <span id="day-display" class="text-xl font-extrabold text-blue-600 italic">0/100 Ng√†y</span>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- LEFT: AI SETTINGS & Q&A -->
            <div class="lg:col-span-1 space-y-6">
                <!-- AI CONFIG CARD -->
                <div class="glass rounded-[2rem] p-6 shadow-xl border-t-4 border-t-blue-500">
                    <h2 class="font-bold text-slate-800 mb-4 flex items-center gap-2">
                        üîë C·∫•u h√¨nh Tr·ª£ l√Ω AI
                    </h2>
                    <div class="space-y-4">
                        <div class="p-3 bg-blue-50 rounded-xl border border-blue-100">
                            <p class="text-[11px] text-blue-700 leading-relaxed">
                                ƒê·ªÉ AI ho·∫°t ƒë·ªông tr√™n GitHub, b·∫°n c·∫ßn d√°n AIzaSyDaHcH34oVmQtbcsQXjOx70go1aoLDs84Q v√†o ƒë√¢y. Key ƒë∆∞·ª£c l∆∞u trong tr√¨nh duy·ªát c·ªßa ri√™ng b·∫°n.
                            </p>
                        </div>
                        <input id="api-key-input" type="password" placeholder="D√°n API Key t·∫°i ƒë√¢y..." 
                               class="w-full p-3 rounded-xl border bg-white focus:ring-2 focus:ring-blue-400 outline-none text-sm transition-all shadow-inner">
                        <button onclick="saveApiKey()" class="w-full bg-slate-800 text-white py-2.5 rounded-xl text-xs font-bold hover:bg-black transition-all">
                            L∆∞u Key v√†o tr√¨nh duy·ªát
                        </button>
                    </div>
                </div>

                <!-- QUICK EXPLAINER -->
                <div class="glass rounded-[2rem] p-6 shadow-lg border-2 border-slate-50">
                    <h2 class="font-bold text-slate-800 mb-4 flex items-center gap-2">‚ú® Gi·∫£i th√≠ch nhanh</h2>
                    <input id="ai-query" type="text" placeholder="SQL Join l√† g√¨?..." 
                           class="w-full p-4 rounded-2xl border bg-slate-50 focus:bg-white focus:ring-4 focus:ring-blue-50 outline-none text-sm transition-all mb-3">
                    <button id="btn-ask" onclick="askAi()" class="w-full bg-blue-600 text-white py-3.5 rounded-2xl font-bold shadow-lg shadow-blue-200 hover:bg-blue-700 active:scale-95 transition-all flex justify-center items-center gap-2">
                        <span id="btn-text">H·ªèi Tr·ª£ L√Ω AI</span>
                        <div id="loader" class="hidden w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"></div>
                    </button>
                    
                    <div id="res-box" class="hidden mt-6 p-4 bg-white rounded-2xl border border-blue-50 text-sm leading-relaxed text-slate-700 italic relative min-h-[60px]">
                        <!-- AI Response content -->
                    </div>
                </div>
            </div>

            <!-- RIGHT: MAIN DASHBOARD -->
            <div class="lg:col-span-2 space-y-6">
                <!-- RADAR CHART -->
                <div class="glass rounded-[2rem] p-8 shadow-sm h-[400px]">
                    <h2 class="font-bold text-slate-800 mb-6 flex items-center gap-2">üìä Bi·ªÉu ƒë·ªì NƒÉng l·ª±c</h2>
                    <div class="relative h-[300px]">
                        <canvas id="skillChart"></canvas>
                    </div>
                </div>

                <!-- TASK LIST -->
                <div class="glass rounded-[2rem] p-8 shadow-sm">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="font-bold text-slate-800 text-xl">Nhi·ªám v·ª• Ng√†y h√¥m nay</h2>
                        <span class="text-xs bg-slate-100 px-3 py-1 rounded-full text-slate-500 font-bold uppercase">T·ª± ƒë·ªông t·∫°o</span>
                    </div>
                    <div id="task-list" class="space-y-3">
                        <!-- Tasks go here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- CORE LOGIC ---
        let appState = {
            apiKey: localStorage.getItem('GEMINI_API_KEY') || "",
            days: parseInt(localStorage.getItem('DA_DAY')) || 1,
            tasks: [
                { id: 1, text: "X√¢y d·ª±ng t∆∞ duy SQL n√¢ng cao", done: false },
                { id: 2, text: "Th·ª±c h√†nh Window Functions (LEAD/LAG)", done: false },
                { id: 3, text: "L√™n √Ω t∆∞·ªüng cho Portfolio Project 1", done: false }
            ]
        };

        function saveApiKey() {
            const key = document.getElementById('api-key-input').value.trim();
            if (key) {
                appState.apiKey = key;
                localStorage.setItem('GEMINI_API_KEY', key);
                alert("ƒê√£ l∆∞u API Key th√†nh c√¥ng! Gi·ªù b·∫°n c√≥ th·ªÉ h·ªèi AI.");
            }
        }

        async function askAi() {
            const query = document.getElementById('ai-query').value.trim();
            const btnText = document.getElementById('btn-text');
            const loader = document.getElementById('loader');
            const resBox = document.getElementById('res-box');

            if (!appState.apiKey) {
                alert("Vui l√≤ng nh·∫≠p v√† l∆∞u API Key tr∆∞·ªõc khi h·ªèi!");
                return;
            }
            if (!query) return;

            // UI Loading
            btnText.innerText = "ƒêang x·ª≠ l√Ω...";
            loader.classList.remove('hidden');
            resBox.classList.remove('hidden');
            resBox.innerHTML = '<div class="h-4 w-full shimmer rounded mb-2"></div><div class="h-4 w-2/3 shimmer rounded"></div>';

            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${appState.apiKey}`;
            const prompt = `Gi·∫£i th√≠ch ng·∫Øn g·ªçn (d∆∞·ªõi 50 t·ª´) thu·∫≠t ng·ªØ: ${query}. H√£y t·∫≠p trung v√†o c√°ch n√≥ ƒë∆∞·ª£c d√πng trong ng√†nh Data Analytics.`;

            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }]
                    })
                });

                if (!response.ok) throw new Error("API Error");

                const data = await response.json();
                const text = data.candidates[0].content.parts[0].text;
                resBox.innerText = text;

            } catch (err) {
                resBox.innerHTML = '<span class="text-red-500 font-bold">‚ö†Ô∏è L·ªói: API Key kh√¥ng ƒë√∫ng ho·∫∑c h·∫øt h·∫°n. H√£y ki·ªÉm tra l·∫°i key c·ªßa b·∫°n.</span>';
            } finally {
                btnText.innerText = "H·ªèi Tr·ª£ L√Ω AI";
                loader.classList.add('hidden');
            }
        }

        // --- RENDER LOGIC ---
        function renderTasks() {
            const container = document.getElementById('task-list');
            container.innerHTML = appState.tasks.map(t => `
                <div onclick="toggleTask(${t.id})" class="flex items-center gap-4 p-4 rounded-2xl border-2 cursor-pointer transition-all ${t.done ? 'bg-emerald-50 border-emerald-100 opacity-60' : 'bg-white border-slate-100 hover:border-blue-200'}">
                    <div class="w-6 h-6 rounded-full border-2 flex items-center justify-center ${t.done ? 'bg-emerald-500 border-emerald-500 text-white' : 'border-slate-300'}">
                        ${t.done ? '‚úì' : ''}
                    </div>
                    <span class="text-sm font-semibold ${t.done ? 'line-through text-slate-400' : 'text-slate-700'}">${t.text}</span>
                </div>
            `).join('');
            document.getElementById('day-display').innerText = `${appState.days}/100 Ng√†y`;
        }

        function toggleTask(id) {
            const task = appState.tasks.find(t => t.id === id);
            task.done = !task.done;
            renderTasks();
        }

        let chart;
        function initChart() {
            const ctx = document.getElementById('skillChart').getContext('2d');
            chart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['SQL', 'Python', 'Excel', 'BI Tools', 'Statistics'],
                    datasets: [{
                        data: [65, 40, 80, 55, 30],
                        backgroundColor: 'rgba(37, 99, 235, 0.1)',
                        borderColor: '#2563eb',
                        borderWidth: 3,
                        pointBackgroundColor: '#1d4ed8'
                    }]
                },
                options: {
                    scales: { r: { min: 0, max: 100, ticks: { display: false } } },
                    plugins: { legend: { display: false } },
                    maintainAspectRatio: false
                }
            });
        }

        window.onload = () => {
            if (appState.apiKey) document.getElementById('api-key-input').value = "************";
            renderTasks();
            initChart();
        };
    </script>
</body>
</html>
